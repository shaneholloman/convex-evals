# Run Analysis Report: gpt-5.2-codex

## Run metadata

- **Run ID**: `jn76nmvgpcdwcmpnpkv2rzea8s80y3ef`
- **Run ID prefix**: `jn76nmvg`
- **Date**: `2026-02-11`
- **Provider**: `openai`
- **Model**: `gpt-5.2-codex` (GPT-5.2 Codex)
- **Experiment**: `no_guidelines`
- **Status**: `completed`
- **Pass rate**: `47/66` (71.2%)
- **Failed evals**: `19`

## Prior reports check

No prior reports were found under `reports/openai/gpt-5.2-codex/`, so this appears to be the first stored analysis for this model in the repo.

## Failure summary by step type

| Failed step | Count |
| --- | ---: |
| deploy | 12 |
| tests | 5 |
| eslint | 2 |
| **Total** | **19** |

## Failure classification table

| Eval | Failed step | Classification | One-line reasoning |
| --- | --- | --- | --- |
| `000-fundamentals/003-crons` | tests | OVERLY_STRICT | Model matched expected cron code; grader relies on apiSpec string behavior that appears brittle. |
| `000-fundamentals/005-function_calling` | deploy | KNOWN_GAP | Output closely matches answer; deploy log is truncated and likely infra/tooling-related. |
| `000-fundamentals/008-helper_fns` | eslint | MODEL_FAULT | Used `any` in helper `ctx` typing, triggering strict lint errors. |
| `000-fundamentals/009-returns_validator` | deploy | MODEL_FAULT | Used non-existent `v.tuple(...)`, causing deploy failure. |
| `001-data_modeling/009-normalize_json` | tests | MODEL_FAULT | Omitted `age` field from employee schema despite source data containing it. |
| `002-queries/012-index_and_filter` | tests | OVERLY_STRICT | Added negative-age validation; grader expects negatives to be accepted, not clearly required by task. |
| `002-queries/013-async_iterator_filter` | deploy | MODEL_FAULT | Used invalid `.iter()` on query instead of `for await (... of ctx.db.query(...))`. |
| `002-queries/017-pagination_join` | deploy | MODEL_FAULT | Used invalid `v.paginationOpts` and `page.results` instead of Convex pagination APIs. |
| `002-queries/018-pagination_returns_validator` | deploy | MODEL_FAULT | Imported pagination validators from wrong module and wrong symbol name. |
| `003-mutations/005-cascade_delete_nested` | deploy | MODEL_FAULT | Mixed typed Convex IDs into `Set<string>` then deleted, likely breaking typing/deploy. |
| `003-mutations/006-no_storage` | deploy | KNOWN_GAP | Pattern aligns with known no_storage fragility; deploy logs are insufficiently detailed. |
| `004-actions/004-storage` | deploy | KNOWN_GAP | Used `TextEncoder`/`TextDecoder` instead of Blob-based storage flow documented in GAPS. |
| `004-actions/005-storage_http_action` | deploy | KNOWN_GAP | Uses `process.env` pattern that repeatedly fails without Node typings in this eval context. |
| `004-actions/006-node` | deploy | KNOWN_GAP | Used `runtime: "node"` instead of `"use node"` directive (documented gap). |
| `004-actions/007-http_action_routing` | tests | KNOWN_GAP | Used `path: "/api/*"` instead of `pathPrefix: "/api/"`; explicitly documented in GAPS. |
| `005-idioms/002-batch_queries` | deploy | KNOWN_GAP | Recurring deploy fragility noted in GAPS around helper typings/implementation style. |
| `006-clients/000-use_query` | tests | OVERLY_STRICT | Behavioral tests pass; failure is strict function-spec comparison for omitted `returns`. |
| `006-clients/001-use_mutation` | eslint | KNOWN_GAP | Hits known `no-misused-promises` lint issue; also had missing `React` import (`no-undef`). |
| `006-clients/002-use_paginated_query` | deploy | MODEL_FAULT | Imported `paginationOptsValidator` from wrong module and had syntax issues. |

## Per-failure analysis (details)

### 1) 000-fundamentals/003-crons — OVERLY_STRICT
- **Failed step**: tests
- **Error**: expected apiSpec output to contain cron labels.
- **Model snippet**:
  - `crons.interval("run every second", { seconds: 1 }, internal.crons.emptyAction, {});`
- **Expected snippet**:
  - Same structure in answer; difference appears to be grader assertion strategy.

### 2) 000-fundamentals/005-function_calling — KNOWN_GAP
- **Failed step**: deploy
- **Error**: generic `Failed to deploy` with truncated logs.
- **Model snippet**:
  - Correctly chains `runQuery` -> `runMutation` -> `runAction` in callers.
- **Expected snippet**:
  - Semantically equivalent answer implementation.

### 3) 000-fundamentals/008-helper_fns — MODEL_FAULT
- **Failed step**: eslint
- **Error**: `no-explicit-any` and unsafe member access.
- **Model snippet**:
  - `ctx: { db: { get: (id: Id<"items">) => Promise<any> } }`
- **Expected snippet**:
  - Uses `QueryCtx` and typed docs/ids.

### 4) 000-fundamentals/009-returns_validator — MODEL_FAULT
- **Failed step**: deploy
- **Error**: deploy failure due invalid validator usage.
- **Model snippet**:
  - `returns: v.tuple([userValidator, postValidator])`
- **Expected snippet**:
  - `v.array(v.union(...))` (no `v.tuple` in Convex).

### 5) 001-data_modeling/009-normalize_json — MODEL_FAULT
- **Failed step**: tests
- **Error**: schema rejected extra field `age`.
- **Model snippet**:
  - `employees` table omitted `age`.
- **Expected snippet**:
  - `age: v.optional(v.number())`.

### 6) 002-queries/012-index_and_filter — OVERLY_STRICT
- **Failed step**: tests
- **Error**: throws for negative `minAge`; grader expects handling negatives.
- **Model snippet**:
  - `if (args.minAge < 0) throw new Error(...)`
- **Expected snippet**:
  - No negative validation; directly query and filter.

### 7) 002-queries/013-async_iterator_filter — MODEL_FAULT
- **Failed step**: deploy
- **Error**: invalid query iteration API usage.
- **Model snippet**:
  - `for await (const team of ctx.db.query("teams").iter())`
- **Expected snippet**:
  - `for await (const team of ctx.db.query("teams"))`

### 8) 002-queries/017-pagination_join — MODEL_FAULT
- **Failed step**: deploy
- **Error**: invalid pagination symbols/properties.
- **Model snippet**:
  - `v.paginationOpts`, `page.results`.
- **Expected snippet**:
  - `paginationOptsValidator`, return `page`.

### 9) 002-queries/018-pagination_returns_validator — MODEL_FAULT
- **Failed step**: deploy
- **Error**: wrong import location/names for pagination validators.
- **Model snippet**:
  - `import { paginationOptsValidator, paginationResult } from "./_generated/server"`
- **Expected snippet**:
  - `from "convex/server"` using `paginationResultValidator`.

### 10) 003-mutations/005-cascade_delete_nested — MODEL_FAULT
- **Failed step**: deploy
- **Error**: likely type mismatch from mixed-table IDs.
- **Model snippet**:
  - `const deleteIds = new Set<string>(); ... ctx.db.delete(id)`
- **Expected snippet**:
  - Typed per-table deletions without casting IDs to `string`.

### 11) 003-mutations/006-no_storage — KNOWN_GAP
- **Failed step**: deploy
- **Error**: generic deploy failure; insufficient logs.
- **Model snippet**:
  - Action stores file then calls public mutation for metadata.
- **Expected snippet**:
  - Similar architecture, often via internal mutation.

### 12) 004-actions/004-storage — KNOWN_GAP
- **Failed step**: deploy
- **Error**: deploy failure aligned with storage API misuse.
- **Model snippet**:
  - `ctx.storage.store(new TextEncoder().encode(...))`
- **Expected snippet**:
  - Blob-based store/read (`new Blob([...])`, `await blob.text()`).

### 13) 004-actions/005-storage_http_action — KNOWN_GAP
- **Failed step**: deploy
- **Error**: generic deploy failure.
- **Model snippet**:
  - `return process.env.CONVEX_SITE_URL!;`
- **Expected snippet**:
  - Same pattern; known recurring type-env setup fragility.

### 14) 004-actions/006-node — KNOWN_GAP
- **Failed step**: deploy
- **Error**: invalid Node runtime declaration.
- **Model snippet**:
  - `runtime: "node"`
- **Expected snippet**:
  - `"use node"` file directive.

### 15) 004-actions/007-http_action_routing — KNOWN_GAP
- **Failed step**: tests
- **Error**: `/api/*` paths return 404.
- **Model snippet**:
  - `path: "/api/*"`
- **Expected snippet**:
  - `pathPrefix: "/api/"`.

### 16) 005-idioms/002-batch_queries — KNOWN_GAP
- **Failed step**: deploy
- **Error**: generic deploy failure with known recurring typing/style issues.
- **Model snippet**:
  - Helper signatures diverge from answer conventions (`string` vs `Id<...>`, etc.).
- **Expected snippet**:
  - Strongly typed helper args and known-safe idioms.

### 17) 006-clients/000-use_query — OVERLY_STRICT
- **Failed step**: tests
- **Error**: function spec deep-equality mismatch.
- **Model snippet**:
  - Correct query handler but no explicit `returns` validator.
- **Expected snippet**:
  - Adds detailed `returns` validator.

### 18) 006-clients/001-use_mutation — KNOWN_GAP
- **Failed step**: eslint
- **Error**: `no-misused-promises` and `React is not defined`.
- **Model snippet**:
  - `const onSubmit = async (e: React.FormEvent) => ...` without importing `React`.
- **Expected snippet**:
  - Imports `React`; similar async submit pattern.

### 19) 006-clients/002-use_paginated_query — MODEL_FAULT
- **Failed step**: deploy
- **Error**: wrong `paginationOptsValidator` import and syntax issues.
- **Model snippet**:
  - `import { query, paginationOptsValidator } from "./_generated/server";`
  - `ctx.db.query("items").).order("desc")...`
- **Expected snippet**:
  - Import `paginationOptsValidator` from `convex/server`.

## Cross-cutting patterns

1. **Convex API surface confusion is the dominant root cause**: recurring mistakes around pagination validators, async query iteration, and Node/runtime directives.
2. **Deploy-step observability is poor**: multiple failures only report `Failed to deploy` without actionable diagnostics, forcing probabilistic classification.
3. **Known gaps explain a large share**: storage, node runtime usage, HTTP route matching, and some lint/deploy edge cases are already documented.
4. **Spec-level tests can exceed task requirements**: `003-crons` and `000-use_query` show grader dependence on specific metadata/spec shape, even when behavior is correct.
5. **Client eval linting remains fragile**: strict React/TS lint rules catch valid-enough implementations that are close to passing behaviorally.

## Recommendations

### Eval improvements
- For `003-crons`, avoid assertions that depend on internal apiSpec text shape; prefer direct schedule metadata checks if available.
- For `012-index_and_filter`, clarify task expectation around negative `minAge` input (accept or reject) to reduce interpretation variance.
- For `000-use_query`, either explicitly require `returns` validators in the task or relax spec equality checks when behavioral tests pass.

### Lint/config and infrastructure
- Capture full Convex deploy stderr/stdout in step artifacts to reduce unknown deploy root causes.
- Consider a narrow lint exception or documented pattern for `@typescript-eslint/no-misused-promises` in React form handlers in client evals.

### Model-specific notes (gpt-5.2-codex)
- Improve prompt hints/examples around:
  - `paginationOptsValidator` / `paginationResultValidator` from `convex/server`
  - `for await ... of ctx.db.query(...)` (no `.iter()`)
  - `"use node"` directive for Node built-ins in actions
  - avoiding unsupported validator APIs like `v.tuple`

### No action needed
- Failures classified as clear model faults do not require eval changes (`008-helper_fns`, `009-returns_validator`, `009-normalize_json`, `013-async_iterator_filter`, `017-pagination_join`, `018-pagination_returns_validator`, `005-cascade_delete_nested`, `002-use_paginated_query`).

## Net impact assessment

- **Actionable eval/lint/tooling issues**: `11/19`
  - OVERLY_STRICT: 3
  - KNOWN_GAP: 8
- **Genuine model faults**: `8/19`
- **Ambiguous task classifications**: `0/19`

Overall, this run has a mixed profile: a substantial core of real model errors, plus a similarly large set of known or framework-sensitive failures where improvements to prompts, graders, or diagnostics would likely lift score reliability.
