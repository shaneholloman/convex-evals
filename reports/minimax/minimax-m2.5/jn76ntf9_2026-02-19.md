# Run Analysis: minimax/minimax-m2.5 (no_guidelines experiment)

## Run Metadata

- **Run ID:** jn76ntf9j4bn3pf59qjh65rks981exgh
- **Model:** minimax/minimax-m2.5
- **Experiment:** no_guidelines (guidelines stripped)
- **Date:** 2026-02-19
- **Pass rate:** 23/66 (35%)
- **Status:** completed

## Failure Summary by Step

| Step | Count |
|------|-------|
| deploy (convex dev fail) | 29 |
| tsc | 5 |
| eslint | 2 |
| tests | 4 |
| install | 1 (estimated, see use_paginated_query) |

## Per-Failure Analysis (sampled — 10 of 43 analyzed in detail)

### 1. 000-fundamentals/002-basic_http_endpoint — deploy
- **Classification:** MODEL_FAULT
- **Error:** `No matching export in "convex/_generated/server.js" for import "httpRouter"`
- **Reasoning:** Same as default run — model imported `httpRouter` from `_generated/server` instead of `convex/server`. Without guidelines showing the correct import pattern, this is unsurprising.
- **Guidelines-related:** Yes — import paths

### 2. 000-fundamentals/006-database_crud — tsc
- **Classification:** MODEL_FAULT
- **Error:** `src/App.tsx: react/jsx-runtime not found`
- **Reasoning:** Task is backend-only. Without guidelines instructing "only create files asked for", the model added a `src/App.tsx` with JSX but no React in `package.json`. The Convex backend code was actually correct.
- **Guidelines-related:** Yes — "only output requested files"

### 3. 000-fundamentals/007-basic_file_storage — tsc
- **Classification:** MODEL_FAULT
- **Error:** Same as 006 — unnecessary `src/App.tsx` with JSX
- **Reasoning:** Same pattern: correct backend code, unnecessary frontend file added.
- **Guidelines-related:** Yes

### 4. 000-fundamentals/008-helper_fns — deploy
- **Classification:** MODEL_FAULT
- **Error:** `Expected identifier but found ")"` — syntax error in convex/index.ts
- **Reasoning:** Model ended `updateItem` mutation with `},\n);` instead of `});`, leaving the object unclosed. A simple syntax error.

### 5. 001-data_modeling/001-compound_datatypes — deploy
- **Classification:** MODEL_FAULT
- **Error:** `TypeError: o.discriminator is not a function`
- **Reasoning:** Model hallucinated `v.discriminator("type")` which doesn't exist in Convex. Correct pattern: `v.union(v.object({ type: v.literal("a"), ... }), ...)`. Guidelines show this pattern explicitly.
- **Guidelines-related:** Yes — schema patterns

### 6. 001-data_modeling/009-normalize_json — tests (50%)
- **Classification:** MODEL_FAULT
- **Error:** `Object contains extra field 'age' that is not in the validator`
- **Reasoning:** Model's employees table schema omitted `age` field which was present in the sample JSON. Schema didn't match the data shape fully.

### 7. 001-data_modeling/010-discriminated_union — tests (0%)
- **Classification:** MODEL_FAULT
- **Error:** Invalid notifications accepted instead of rejected
- **Reasoning:** Model used flat schema with all variant fields `v.optional()` instead of `v.union(v.object({kind: v.literal("message"), ...}), ...)`. Guidelines show this pattern; without them the model chose the wrong approach.
- **Guidelines-related:** Yes — discriminated union pattern in schema

### 8. 004-actions/000-fetch — eslint
- **Classification:** OVERLY_STRICT
- **Error:** `Unexpected any. Specify a different type (@typescript-eslint/no-explicit-any)`
- **Reasoning:** Model wrote `handler: async (ctx): Promise<any> =>` because the task says "return as any". The answer uses `returns: v.any()` without an explicit handler return type. The model's intent was correct; the lint rule penalized a reasonable interpretation of "return as any".

### 9. 006-clients/000-use_query — tsc
- **Classification:** MODEL_FAULT
- **Error:** `Cannot find module './convex/react'`
- **Reasoning:** Model used `import { useQuery } from "./convex/react"` and called it as `useQuery("messages:getAllMessages")`. Both the import path (`convex/react`) and the API shape (`api.messages.getAllMessages`) are wrong. Clear guidelines-dependent failure.
- **Guidelines-related:** Yes — client API patterns

### 10. 006-clients/001-use_mutation — eslint
- **Classification:** MODEL_FAULT
- **Error:** `'React' is not defined (no-undef)`; `no-misused-promises`
- **Reasoning:** Same as default run — missing `import React` and async handler on `onSubmit`. Appears in both runs, suggesting this is a persistent model habit rather than guidelines-dependent.

## Cross-Cutting Patterns

### Pattern 1: Unnecessary frontend files for backend-only tasks (3+ evals)
Without guidelines stating to only create requested files, the model consistently adds `src/App.tsx` for tasks that only ask for `convex/*.ts`. The backend code is often correct but tsc fails due to the JSX file.
- **Evals affected:** 006-database_crud, 007-basic_file_storage, 003-crons (in default run too)
- **Actionable:** This could be addressed in guidelines: "Only create the files explicitly requested by the task."

### Pattern 2: Convex schema API hallucinations (2 evals)
- `v.discriminator()` — doesn't exist
- Flat optional schema for discriminated unions (incorrect pattern)
- **Guidelines-related:** Yes — guidelines show `v.union(v.object({...}), ...)` pattern

### Pattern 3: Convex client import confusion (2 evals)
- Wrong import paths for React hooks (`./convex/react` vs `convex/react`)
- Using string function names instead of `api.*.functionName`
- **Guidelines-related:** Yes — clearly improved by the guidelines document

### Pattern 4: Returns validator misuse (overlaps with default run)
`returns: v.null()` for nullable queries (same as default run, fewer in this run due to fewer passing evals overall).

### Pattern 5: Hallucinated `@convex-dev/react` package
Present in both runs — persistent model knowledge gap regardless of guidelines.

### Pattern 6: ESLint `no-misused-promises` on async handlers
Present in both runs. GAPS.txt notes this as a known "maybe-dumb lint" issue. The model consistently passes async functions where `void` is expected.

## Guidelines Impact Analysis

Comparing the default (47/66 = 71%) vs no_guidelines (23/66 = 35%) run:

**Additional failures in no_guidelines run (+24 failures):**
- Many more deploy failures, especially in 002-queries and 003-mutations categories
- More schema/data-modeling failures
- More client-side hook failures (wrong import patterns)

**Failures appearing in both runs (persistent model gaps):**
- `basic_http_endpoint` (import confusion)
- `use_mutation` (React import + no-misused-promises)
- `cascade_delete_nested` (non-existent query API)
- Various action deploy failures

**Conclusion:** Guidelines provide a substantial boost (+36% pass rate). The main areas guidelines help:
1. Correct Convex import paths
2. Schema patterns (v.union for discriminated unions)
3. Client-side API usage (useQuery, useMutation with `api.*`)
4. Likely: correct returns validators

## Recommendations

### Overly strict (1 eval — potential action)
- `004-actions/000-fetch`: The `@typescript-eslint/no-explicit-any` eslint rule fires when the model writes `Promise<any>`. This is a borderline case since the task says "return as any". Consider documenting that models should use `returns: v.any()` without an explicit handler return type annotation.

### Guideline improvements
- The guidelines clearly help, but the model still fails `basic_http_endpoint` in both runs — the import pattern (`httpRouter` from `convex/server`) could be made even more prominent.

### No action needed (42 failures — genuine model gaps)
- API hallucinations (`v.discriminator`, `q._index().in()`, `@convex-dev/react`)
- Unnecessary frontend boilerplate
- Returns validator misuse
- Import path errors

## Net Impact Assessment

- **43 failures total: 42 MODEL_FAULT, 1 OVERLY_STRICT**
- **1 potential eval improvement:** Document `returns: v.any()` pattern for `no-explicit-any` lint avoidance
- Model drops from 71% → 35% without guidelines, confirming guidelines provide strong signal
- Persistent gaps: API hallucinations, frontend boilerplate for backend tasks, async event handlers
